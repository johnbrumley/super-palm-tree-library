<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Dropzone.js Example</title>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">    
    <link rel="stylesheet" href="/dropzone/dist/dropzone.css">        
    <meta name="csrf-token" content="XYZ123">
</head>
<body>

	<div class="container">

		<header>
			<h1>Dropzone.js Example</h1>
		</header>

		<div>
			<form id="upload-widget" method="post" action="/upload" class="dropzone">
				<div class="fallback">
					<input name="file" type="file" />
  			</div>
			</form>
		</div>

		<footer style="margin-top:500px;">
			<p>This demo is designed to accompany <a href="http://www.sitepoint.com/ARTICLE-URL">this article</a>.</p>
		</footer>

	</div>
	
  <script type="text/javascript" src="/dropzone/dist/dropzone.js"></script>    
  <script type="text/javascript">
    Dropzone.options.uploadWidget = {  
		  paramName: 'file',
		  maxFilesize: 100, // MB		  
		  dictDefaultMessage: 'Drag an pdf here to upload, or click to select one',
		  headers: {
				'x-csrf-token': document.querySelectorAll('meta[name=csrf-token]')[0].getAttributeNode('content').value,
			},
		  acceptedFiles: 'application/pdf',		  
		  init: function() {	    
		  	console.log('made it1');
		  	this.on('success', function( file, resp ){
		  		console.log( file );
		  		console.log( resp );
		  	});
		    this.on('thumbnail', function(file) {	      
		        console.log('made it3');
		    });
		  },
		  renameFilename: 'test',
		  accept: function(file, done) {
		  	console.log(file);
		    done(); 
		  }		  
		};	
  </script>

</body>
</html>
